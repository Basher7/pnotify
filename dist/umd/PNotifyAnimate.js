!function(e,t){if("function"==typeof define&&define.amd)define("PNotifyAnimate",["exports","PNotify"],t);else if("undefined"!=typeof exports)t(exports,require("./PNotify"));else{var n={};t(n,e.PNotify),e.PNotifyAnimate=n}}(this,function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=(n=t)&&n.__esModule?n:{default:n};var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};var r;function o(e){var t,n;n=e,(t=this)._observers={pre:l(),post:l()},t._handlers=l(),t._bind=n._bind,t.options=n,t.root=n.root||t,t.store=t.root.store||n.store,this._state=f(s({_notice:null,_options:{}},i.default.modules.Animate.defaults),e.data),this._fragment=(this._state,{c:m,m:m,p:m,u:m,d:m}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}function m(){}function f(e,t){for(var n in t)e[n]=t[n];return e}function d(e){this.destroy=m,this.fire("destroy"),!(this.set=this.get=m)!==e&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}function l(){return Object.create(null)}function u(e){for(;e&&e.length;)e.shift()()}function c(e,t,n,i,a){for(var s in t)if(n[s]){var r=i[s],o=a[s],m=t[s];if(m)for(var f=0;f<m.length;f+=1){var d=m[f];d.__calling||(d.__calling=!0,d.call(e,r,o),d.__calling=!1)}}}f(f(o.prototype,{initModule:function(e){this.set(e),this.setUpAnimations()},update:function(){this.setUpAnimations()},setUpAnimations:function(){var e=this.get("_notice"),t=this.get("_options");if(this.get("animate")){e.set({animation:"none"}),e._animateIn||(e._animateIn=e.animateIn),e._animateOut||(e._animateOut=e.animateOut),e.animateIn=this.animateIn.bind(this),e.animateOut=this.animateOut.bind(this);var n=250;"slow"===t.animateSpeed?n=400:"fast"===t.animateSpeed?n=100:0<t.animateSpeed&&(n=t.animateSpeed),n/=1e3,e.refs.elem.style.WebkitAnimationDuration=n+"s",e.refs.elem.style.MozAnimationDuration=n+"s",e.refs.elem.style.animationDuration=n+"s"}else e._animateIn&&e._animateOut&&(e.animateIn=e._animateIn,delete e._animateIn,e.animateOut=e._animateOut,delete e._animateOut)},animateIn:function(t){var n=this.get("_notice");n.set({_animating:"in"});var e=function e(){n.refs.elem.removeEventListener("webkitAnimationEnd",e),n.refs.elem.removeEventListener("mozAnimationEnd",e),n.refs.elem.removeEventListener("MSAnimationEnd",e),n.refs.elem.removeEventListener("oanimationend",e),n.refs.elem.removeEventListener("animationend",e),n.set({_animatingClass:"ui-pnotify-in animated"}),t&&t.call(),n.set({_animating:!1})};n.refs.elem.addEventListener("webkitAnimationEnd",e),n.refs.elem.addEventListener("mozAnimationEnd",e),n.refs.elem.addEventListener("MSAnimationEnd",e),n.refs.elem.addEventListener("oanimationend",e),n.refs.elem.addEventListener("animationend",e),n.set({_animatingClass:"ui-pnotify-in animated "+this.get("inClass")})},animateOut:function(t){var n=this.get("_notice");n.set({_animating:"out"});var e=function e(){n.refs.elem.removeEventListener("webkitAnimationEnd",e),n.refs.elem.removeEventListener("mozAnimationEnd",e),n.refs.elem.removeEventListener("MSAnimationEnd",e),n.refs.elem.removeEventListener("oanimationend",e),n.refs.elem.removeEventListener("animationend",e),n.set({_animatingClass:"animated"}),t&&t.call(),n.set({_animating:!1})};n.refs.elem.addEventListener("webkitAnimationEnd",e),n.refs.elem.addEventListener("mozAnimationEnd",e),n.refs.elem.addEventListener("MSAnimationEnd",e),n.refs.elem.addEventListener("oanimationend",e),n.refs.elem.addEventListener("animationend",e),n.set({_animatingClass:"ui-pnotify-in animated "+this.get("outClass")})}}),{destroy:d,get:function(e){return e?this._state[e]:this._state},fire:function(e,t){var n=e in this._handlers&&this._handlers[e].slice();if(!n)return;for(var i=0;i<n.length;i+=1)n[i].call(this,t)},observe:function(t,n,e){var i=e&&e.defer?this._observers.post:this._observers.pre;(i[t]||(i[t]=[])).push(n),e&&!1===e.init||(n.__calling=!0,n.call(this,this._state[t]),n.__calling=!1);return{cancel:function(){var e=i[t].indexOf(n);~e&&i[t].splice(e,1)}}},on:function(e,t){if("teardown"===e)return this.on("destroy",t);var n=this._handlers[e]||(this._handlers[e]=[]);return n.push(t),{cancel:function(){var e=n.indexOf(t);~e&&n.splice(e,1)}}},set:function(e){if(this._set(f({},e)),this.root._lock)return;this.root._lock=!0,u(this.root._beforecreate),u(this.root._oncreate),u(this.root._aftercreate),this.root._lock=!1},teardown:d,_set:function(e){var t=this._state,n={},i=!1;for(var a in e)this._differs(e[a],t[a])&&(n[a]=i=!0);if(!i)return;this._state=f(f({},t),e),this._recompute(n,this._state),this._bind&&this._bind(n,this._state);this._fragment&&(c(this,this._observers.pre,n,this._state,t),this._fragment.p(n,this._state),c(this,this._observers.post,n,this._state,t))},_mount:function(e,t){this._fragment[this._fragment.i?"i":"m"](e,t||null)},_unmount:function(){this._fragment&&this._fragment.u()},_differs:function(e,t){return e!=e?t==t:e!==t||e&&"object"===(void 0===e?"undefined":a(e))||"function"==typeof e}}),o.prototype._recompute=m,(r=o).key="Animate",r.defaults={animate:!1,inClass:"",outClass:""},r.init=function(i){return i.attention=function(t,n){var e=function e(){i.refs.container.removeEventListener("webkitAnimationEnd",e),i.refs.container.removeEventListener("mozAnimationEnd",e),i.refs.container.removeEventListener("MSAnimationEnd",e),i.refs.container.removeEventListener("oanimationend",e),i.refs.container.removeEventListener("animationend",e),i.refs.container.classList.remove(t),n&&n.call(i)};i.refs.container.addEventListener("webkitAnimationEnd",e),i.refs.container.addEventListener("mozAnimationEnd",e),i.refs.container.addEventListener("MSAnimationEnd",e),i.refs.container.addEventListener("oanimationend",e),i.refs.container.addEventListener("animationend",e),i.refs.container.classList.add("animated"),i.refs.container.classList.add(t)},new r({target:document.body})},i.default.modules.Animate=r,e.default=o});
//# sourceMappingURL=PNotifyAnimate.js.map